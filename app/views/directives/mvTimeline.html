<div class="timeline-area__wrapper">
    <h1>timeline</h1>
    <button class="timeline-area__menu__list__element timeline-area__menu-button" data-ng-click="swapWithPreviousObject()">swap <-- </button>
    <button class="timeline-area__menu__list__element timeline-area__menu-button" data-ng-click="swapWithNextObject()">swap --> </button>
    <button class="timeline-area__menu__list__element timeline-area__menu-button" data-ng-click="muteChunk(key)">mute</button>
    <button class="timeline-area__menu__list__element timeline-area__menu-button" data-ng-click="deleteChunk(key)">delete</button>
    <button class="timeline-area__menu__list__element timeline-area__menu-button" data-ng-class="{'timeline-area__menu-button--cut': isCutActive}" data-ng-click="activateCuttingMode()">cut</button>
    <button class="timeline-area__menu__list__element timeline-area__menu-button" data-ng-click="zoomOut()">zoom out</button>
    <button class="timeline-area__menu__list__element timeline-area__menu-button" data-ng-click="zoomReset()">zoom reset</button>
    <button class="timeline-area__menu__list__element timeline-area__menu-button" data-ng-click="zoomIn()">zoom in</button>
    <div id="timelineDropArea" class="dropable" hm-tap="tap($event)">
        <div class="timeline-object__wrap" style="width: {{timelineService.timelineWidth}}px;">
            <!--timelineWidth: {{timelineService.timelineWidth}}-->
            <div class="timeline-object__chunk"
                 hm-tap="chunkTap($event, key)"
                 hm-panstart="panStart($event, key)"
                 hm-panmove="hammerPanMove($event, key)"
                 hm-panend="panEnd($event, key)"
                 data-ng-class="{'timeline-object__chunk--cut': isCutActive && key == TimelineCtrl.focus}"
                 style="left: {{chunks.start * timelineService.pixelPerSeconds}}px;"
                 data-ng-repeat="(key, chunks) in timelineService.timelineList">
                <div class="timeline-object__chunk-content"
                     style="width: {{(chunks.end - chunks.start) * timelineService.pixelPerSeconds}}px;"
                     data-ng-class="{'timeline-chunk--focus': key == TimelineCtrl.focus, 'timeline-chunk--mute': chunks.mute}">
                    <!--ID: {{chunks.objectListId + ' || ' + key}}-->
                </div>

                <div class="timeline-object__chunk-manipulator timeline-object__chunk-manipulator--start"
                     data-ng-if="key == TimelineCtrl.focus && TimelineCtrl.shorten == true"
                     hm-panstart="dragStartShortenStart($event, key)"
                     hm-panmove="dragStartShortenMove($event, key)"
                     hm-panend="dragStartShortenEnd($event, key)"></div>

                <div class="timeline-object__chunk-manipulator timeline-object__chunk-manipulator--end"
                     data-ng-if="key == TimelineCtrl.focus && TimelineCtrl.shorten == true"
                     hm-panstart="dragEndShortenStart($event, key)"
                     hm-panmove="dragEndShortenMove($event, key)"
                     hm-panend="dragEndShortenEnd($event, key)"></div>
            </div>
        </div>

        <div id="timeline-scale" style="width: {{timelineService.timelineWidth}}px;">
            <div class="timeline-scale__middle-line">

            </div>

            <div class="timeline-scale__display-wrapper">
                <span class="timeline-scale__display-line" data-ng-repeat="scale in timelineService.scales" style="left: {{scale.position}}px; width: {{timelineService.scaleSteps * timelineService.pixelPerSeconds}}px">
                    <!--scale: {{scale}}-->
                    <div class="timeline-scale__display-time">
                        {{scale.display}}
                    </div>
                </span>
            </div>
        </div>

        <div id="position_pointer">
        </div>
        <div id="range_pointer_a" class="range_pointer">
        </div>
        <div id="range_pointer_b" class="range_pointer">
        </div>
    </div>

    <div class="chunk-meta__wrapper" data-ng-if="TimelineCtrl.focus !== null">
        <!--focus: {{timelineService.timelineList[TimelineCtrl.focus]}} <br/>-->
        <table class="chunk-meta__chunk-values">
            <tr>
                <th class="chunk-meta__chunk-values">chunk values</th>
                <td class="chunk-meta__chunk-values--name">name: <input class="chunk-meta__chunk-name-input" ng-model="timelineService.timelineList[TimelineCtrl.focus].name"/></td>
                <td class="chunk-meta__chunk-values--start">start: {{ timelineService.timelineList[TimelineCtrl.focus].start | number: 2 }} s</td>
                <td class="chunk-meta__chunk-values--end">end: {{ timelineService.timelineList[TimelineCtrl.focus].end | number: 2 }} s</td>
                <td class="chunk-meta__chunk-values--length">chunk length: {{ timelineService.timelineList[TimelineCtrl.focus].end -  timelineService.timelineList[TimelineCtrl.focus].start | number: 2 }} s</td>
                <td class="chunk-meta__chunk-values--offset" ng-if="contentService.getContentList()[timelineService.timelineList[TimelineCtrl.focus].objectListId].type != 'image'">offset: {{ timelineService.timelineList[TimelineCtrl.focus].offset | number: 2 }} s</td>
                <td class="chunk-meta__mute" ng-if="contentService.getContentList()[timelineService.timelineList[TimelineCtrl.focus].objectListId].type != 'image'">mute: {{ timelineService.timelineList[TimelineCtrl.focus].mute }}</td>
            </tr>
            <tr>
                <th class="chunk-meta__material-values">material values</th>
                <td class="chunk-meta__material-values--name">name: <input class="chunk-meta__chunk-name-input" ng-model="contentService.getContentList()[timelineService.timelineList[TimelineCtrl.focus].objectListId].name"/></td>
                <td class="chunk-meta__material-values--url">url: <input class="chunk-meta__chunk-name-input" value="{{ contentService.getContentList()[timelineService.timelineList[TimelineCtrl.focus].objectListId].url }}" readonly=""></td>
                <td class="chunk-meta__material-values--type">type: {{ contentService.getContentList()[timelineService.timelineList[TimelineCtrl.focus].objectListId].type }}</td>
                <td class="chunk-meta__material-values--type" ng-if="contentService.getContentList()[timelineService.timelineList[TimelineCtrl.focus].objectListId].type != 'image'">original length: {{ contentService.getContentList()[timelineService.timelineList[TimelineCtrl.focus].objectListId].length | number: 2 }} s</td>
                <!-- <td class="chunk-meta__material-values--end">end: {{timelineService.timelineList[TimelineCtrl.focus].offset + (timelineService.timelineList[TimelineCtrl.focus].end -  timelineService.timelineList[TimelineCtrl.focus].start) | number: 2 }} s</td> -->
            </tr>
        </table>
    </div>
</div>